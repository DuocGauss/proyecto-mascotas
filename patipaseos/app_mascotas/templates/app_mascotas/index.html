{% extends "app_mascotas/base.html" %}
{% load static %}
{% block title %}Página de Inicio{% endblock %}

{% block content %}

{% if messages %}
    {% for msg in messages %}
        <script>
            Swal.fire({
                title: 'Exito!',
                text: '{{msg}}',
                icon: 'success',
                confirmButtonText: 'Aceptar',
                confirmButtonColor: 'Green'
            }) 
        </script>
    {% endfor %}
{% endif %}



  
<div class="col-md-12">
    <h1>Bienvenido!</h1>
    <p><strong>Pagina en construcción</strong></p>

    {% if not obtener %}
    <p>No se encontraron resultados.</p>
    {% else %}

    {% for servicio in obtener %}
        <div class="card text-center">
            <div class="card-header">
                {{ servicio.tipo_servicio }}<br> 
                <h5 class="card-title"> {{ servicio.precio }}$</h5>  
            </div>
            <div class="card-body d-flex align-items-start">
                <div class="rounded-circle overflow-hidden me-3" style="width: 100px; height: 100px;">
                    <img src="{{ servicio.cuidador.propietario.imagen.url }}" class="w-100 h-100" alt="User-Profile-Image">
                </div>
                <div class="mx-auto text-center">
                    <p class="card-text">{{ servicio.descripcion }}</p>
                </div>
            </div>
            <div class="card-footer">
                {% if servicio.cuidador.propietario == user %}
                    <a href="{% url 'perfil' %}" class="btn btn-lg btn-primary">Ver Detalles</a>
                {% else %}
                    <a href="{% url 'perfil_servicio' servicio.id_servicio %}" class="btn btn-lg btn-primary">Ver Detalles</a>
                {% endif %}
                <p class="card-text">Publicado por: {{ servicio.cuidador.propietario.username }}</p>
            </div>
        </div>
    {% endfor %}
    {% endif %}
</div>

{% if obtener.has_other_pages %}
    <div class="btn-group" role="group" aria-label="Item pagination">
        {% if obtener.has_previous %}
            <a href="?page=1" class="btn btn-outline-primary">&laquo;&laquo;</a>
            <a href="?page={{ obtener.previous_page_number }}" class="btn btn-outline-primary">&laquo;</a>
        {% endif %}

        {% for page_number in obtener.paginator.page_range %}
            {% if obtener.number == page_number %}
                <button class="btn btn-outline-primary active">
                    <span>{{ page_number }} <span class="sr-only">(current)</span></span>
                </button>
            {% else %}
                <a href="?page={{ page_number }}" class="btn btn-outline-primary">
                    {{ page_number }}
                </a>
            {% endif %}
        {% endfor %}

        {% if obtener.has_next %}
            <a href="?page={{ obtener.next_page_number }}" class="btn btn-outline-primary">&raquo;</a>
            <a href="?page={{ obtener.paginator.num_pages }}" class="btn btn-outline-primary">&raquo;&raquo;</a>
        {% endif %}
    </div>
{% else %}
    <p></p>
{% endif %}

      
        




{% endblock %}
